{
  "codeSnippets": [
    {
      "language": "TypeScript",
      "description": "React Hook with TypeScript",
      "code": [
        "import { useState, useEffect, useCallback } from 'react';",
        "",
        "interface UseLocalStorageOptions<T> {",
        "  defaultValue: T;",
        "  key: string;",
        "  serialize?: (value: T) => string;",
        "  deserialize?: (value: string) => T;",
        "}",
        "",
        "function useLocalStorage<T>({",
        "  defaultValue,",
        "  key,",
        "  serialize = JSON.stringify,",
        "  deserialize = JSON.parse,",
        "}: UseLocalStorageOptions<T>) {",
        "  const [value, setValue] = useState<T>(() => {",
        "    try {",
        "      const storedValue = localStorage.getItem(key);",
        "      return storedValue ? deserialize(storedValue) : defaultValue;",
        "    } catch {",
        "      return defaultValue;",
        "    }",
        "  });",
        "",
        "  useEffect(() => {",
        "    try {",
        "      localStorage.setItem(key, serialize(value));",
        "    } catch (error) {",
        "      console.error('Error saving to localStorage:', error);",
        "    }",
        "  }, [key, value, serialize]);",
        "",
        "  const removeValue = useCallback(() => {",
        "    localStorage.removeItem(key);",
        "    setValue(defaultValue);",
        "  }, [key, defaultValue]);",
        "",
        "  return [value, setValue, removeValue] as const;",
        "}"
      ]
    },
    {
      "language": "JavaScript",
      "description": "API Service Layer",
      "code": [
        "class ApiService {",
        "  constructor(baseURL) {",
        "    this.baseURL = baseURL;",
        "    this.defaultHeaders = {",
        "      'Content-Type': 'application/json',",
        "    };",
        "  }",
        "",
        "  async request(endpoint, options = {}) {",
        "    const url = `${this.baseURL}${endpoint}`;",
        "    const headers = {",
        "      ...this.defaultHeaders,",
        "      ...options.headers,",
        "    };",
        "",
        "    try {",
        "      const response = await fetch(url, {",
        "        ...options,",
        "        headers,",
        "      });",
        "",
        "      if (!response.ok) {",
        "        throw new Error(`HTTP ${response.status}: ${response.statusText}`);",
        "      }",
        "",
        "      const data = await response.json();",
        "      return { data, response };",
        "    } catch (error) {",
        "      console.error('API request failed:', error);",
        "      throw error;",
        "    }",
        "  }",
        "",
        "  get(endpoint, options = {}) {",
        "    return this.request(endpoint, {",
        "      ...options,",
        "      method: 'GET',",
        "    });",
        "  }",
        "",
        "  post(endpoint, body, options = {}) {",
        "    return this.request(endpoint, {",
        "      ...options,",
        "      method: 'POST',",
        "      body: JSON.stringify(body),",
        "    });",
        "  }",
        "}"
      ]
    }
  ]
}