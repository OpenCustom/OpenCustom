<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenCustom - Landing Page</title>
    <link rel="stylesheet" href="./core.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <style>
        /* Preloader styles */
        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #141414;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }
        
        .preloader-logo {
            max-width: 200px;
            margin-bottom: 30px;
            opacity: 0;
            animation: fadeIn 0.5s ease forwards;
        }
        
        .preloader-text {
            color: #fff;
            font-family: 'Nico Moji', sans-serif;
            font-size: 18px;
            margin-bottom: 20px;
            opacity: 0;
            animation: fadeIn 0.5s ease forwards 0.3s;
        }
        
        .preloader-progress {
            width: 300px;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
            position: relative;
        }
        
        .preloader-progress-bar {
            height: 100%;
            background: #569cd6;
            width: 0%;
            border-radius: 2px;
            transition: width 0.3s ease;
        }
        
        .preloader-percentage {
            color: #686868;
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            margin-top: 10px;
            opacity: 0;
            animation: fadeIn 0.5s ease forwards 0.6s;
        }
        
        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
        
        /* Hide body initially */
        body {
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        body.loaded {
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- Preloader -->
    <div class="preloader" id="preloader">
        <img src="./assets/images/opencustom.png" alt="OpenCustom" class="preloader-logo">
        <div class="preloader-text">Loading OpenCustom</div>
        <div class="preloader-progress">
            <div class="preloader-progress-bar" id="progressBar"></div>
        </div>
        <div class="preloader-percentage" id="percentage">0%</div>
    </div>

    <!-- Main Content -->
    <div class="welcome_content">
        <p class="welcome_content__text">
            Everything whatever We're development is Open-Source and you can edit our scripts to you needs.
        </p>
    </div>

    <div class="main_content">
        <div class="main_content__left-side">
            <p class="main_content__left-side-text_info">
                The open-source model is the most powerful engine for innovation in the digital age. 
                Yet, harnessing its raw potential for mission-critical applications requires more than 
                just download and install. It demands deep expertise, strategic stewardship, and 
                meticulous craftsmanship. OpenCustom Inc. was founded on this precise premise. 
                We believe true value lies not just in consuming open-source, but in actively 
                contributing to its ecosystem while expertly adapting it to solve unique, complex 
                challenges. We operate with a dual heartbeat: a passion for the collaborative ethos 
                of the community and a relentless focus on the performance, security, and strategic 
                fit required by business. We are the essential bridge. We translate the agility and 
                openness of community projects into the resilience and accountability that enterprises 
                demand.
            </p>

            <div class="main_content__left-side-our-links__box">
                <div class="main_content__left-side-our-links__box-title">OUR LINKS</div>
                <div class="main_content__left-side-our-links__box-content">
                    <a href="https://github.com/opencustom" 
                       target="_blank" 
                       rel="noopener noreferrer"
                       class="main_content__left-side-our-links__box-link">
                        <img src="./assets/images/github.png" 
                             alt="GitHub" 
                             class="main_content__left-side-our-links__box-icon">
                    </a>
                </div>
            </div>
        </div>

        <div class="main_content__center">
            <div class="main_content__center-opencustom-image">
                <img src="./assets/images/opencustom.png" alt="opencustom-logo" />
            </div>
        </div>

        <div class="main_content__right-side">
            <div class="main_content__right-side-code_section">
                <div class="main_content__right-side-code_section-file">
                    <div class="main_content__right-side-code_section-file-logotype">
                        <img src="./assets/images/react.png" alt="react">
                    </div>
                    <div class="main_content__right-side-code_section-file-filename">index.tsx</div>
                </div>

                <div class="main_content__right-side-code_section-lines_wrapper">
                    <!-- Code lines will be generated by JavaScript -->
                </div>
            </div>

            <div class="main_content__right-side-text">
                Off-the-shelf is a starting point, not the finish line. Our engineers dive deep into the source code to modify, extend, and seamlessly integrate open-source solutions into your unique technological landscape. We break down silos, create custom plugins and modules, and ensure the final product feels not imported, but inherently built for your workflows and objectives.
            </div>
        </div>
    </div>

    <script src="./core.js"></script>
    <script>
        // Preloader functionality
        document.addEventListener('DOMContentLoaded', function() {
            const preloader = document.getElementById('preloader');
            const progressBar = document.getElementById('progressBar');
            const percentage = document.getElementById('percentage');
            
            let progress = 0;
            let loadedResources = 0;
            
            // Count all resources to load
            const resources = [
                // Images
                './assets/images/opencustom.png',
                './assets/images/github.png',
                './assets/images/react.png',
                // Fonts
                './assets/fonts/NicoMoji.ttf',
                'https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap',
                // Files
                './core.css',
                './core.js',
                './assets/json/code.json'
            ];
            
            // Track resource loading
            function resourceLoaded() {
                loadedResources++;
                progress = Math.floor((loadedResources / resources.length) * 100);
                progressBar.style.width = progress + '%';
                percentage.textContent = progress + '%';
                
                if (progress >= 100) {
                    setTimeout(() => {
                        preloader.style.opacity = '0';
                        
                        setTimeout(() => {
                            preloader.style.display = 'none';
                            document.body.classList.add('loaded');
                            
                            // Start code animation after preloader is hidden
                            if (window.CodeAnimator && window.CodeAnimator.init) {
                                window.CodeAnimator.init();
                            }
                        }, 500);
                    }, 500);
                }
            }
            
            // Load all resources
            resources.forEach(resource => {
                if (resource.endsWith('.css')) {
                    const link = document.createElement('link');
                    link.rel = 'stylesheet';
                    link.href = resource;
                    link.onload = resourceLoaded;
                    link.onerror = resourceLoaded;
                    document.head.appendChild(link);
                } else if (resource.endsWith('.js')) {
                    const script = document.createElement('script');
                    script.src = resource;
                    script.onload = resourceLoaded;
                    script.onerror = resourceLoaded;
                    document.head.appendChild(script);
                } else if (resource.endsWith('.json')) {
                    fetch(resource)
                        .then(() => resourceLoaded())
                        .catch(() => resourceLoaded());
                } else if (resource.includes('fonts.googleapis.com')) {
                    const link = document.createElement('link');
                    link.rel = 'stylesheet';
                    link.href = resource;
                    link.onload = resourceLoaded;
                    link.onerror = resourceLoaded;
                    document.head.appendChild(link);
                } else {
                    // Images and other resources
                    const img = new Image();
                    img.src = resource;
                    img.onload = resourceLoaded;
                    img.onerror = resourceLoaded;
                }
            });
            
            // Fallback: if something goes wrong, finish after 3 seconds
            setTimeout(() => {
                if (progress < 100) {
                    progress = 100;
                    progressBar.style.width = '100%';
                    percentage.textContent = '100%';
                    
                    setTimeout(() => {
                        preloader.style.opacity = '0';
                        
                        setTimeout(() => {
                            preloader.style.display = 'none';
                            document.body.classList.add('loaded');
                            
                            if (window.CodeAnimator && window.CodeAnimator.init) {
                                window.CodeAnimator.init();
                            }
                        }, 500);
                    }, 500);
                }
            }, 3000);
        });
    </script>
</body>
</html>